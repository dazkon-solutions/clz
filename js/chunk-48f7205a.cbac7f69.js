(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48f7205a"],{"0d76":function(e,t,a){"use strict";a("ec5c")},1681:function(e,t,a){},"2bfd":function(e,t,a){},"2f7d":function(e,t,a){"use strict";a.r(t);var s=a("c6a6"),i=a("2bc5"),n=a("8336"),r=a("b0af"),l=a("99d9"),c=a("62ad"),o=a("a523"),d=a("8fea"),u=a("2e4b"),h=a("169a"),m=a("4bd4"),p=a("132d"),v=a("e449"),f=a("0fd9"),g=a("2db4"),x=a("2fa4"),b=a("8654"),I=a("a844"),y=function(){var e=this,t=e._self._c;return t("div",[t(i["a"],{attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[t(p["a"],[e._v("mdi-chevron-right")])]},proxy:!0}])}),t(o["a"],[t(g["a"],{attrs:{timeout:3e3,color:"red",bottom:""},model:{value:e.unsuccessAlert,callback:function(t){e.unsuccessAlert=t},expression:"unsuccessAlert"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-alert-outline")]),e._v("Item delete "),t("strong",[e._v("failed")])],1),t(g["a"],{attrs:{timeout:3e3,color:"green",bottom:""},model:{value:e.successAlert,callback:function(t){e.successAlert=t},expression:"successAlert"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-check")]),e._v("Item delete "),t("strong",[e._v("successful")])],1),t(g["a"],{attrs:{timeout:3e3,color:"red",bottom:""},model:{value:e.unsuccessAlertPayment,callback:function(t){e.unsuccessAlertPayment=t},expression:"unsuccessAlertPayment"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-alert-outline")]),e._v("Payment "),t("strong",[e._v("failed")])],1),t(g["a"],{attrs:{timeout:3e3,color:"green",bottom:""},model:{value:e.successAlertPayment,callback:function(t){e.successAlertPayment=t},expression:"successAlertPayment"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-check")]),e._v("Payment "),t("strong",[e._v("successful")])],1),t(g["a"],{attrs:{timeout:3e3,color:"red",bottom:""},model:{value:e.unsuccessAlertUpdate,callback:function(t){e.unsuccessAlertUpdate=t},expression:"unsuccessAlertUpdate"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-alert-outline")]),e._v("Payment update "),t("strong",[e._v("failed")])],1),t(g["a"],{attrs:{timeout:3e3,color:"green",bottom:""},model:{value:e.successAlertUpdate,callback:function(t){e.successAlertUpdate=t},expression:"successAlertUpdate"}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-check")]),e._v("Payment update "),t("strong",[e._v("successful")])],1),[t(f["a"],{staticStyle:{padding:"12px"}},[t(c["a"],{attrs:{lg:"4",md:"6",sm:"6",cols:"12","max-width":"700"}},[t(m["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(r["a"],{staticClass:"pb-5"},[t(f["a"],{staticClass:"px-5 pb-1",attrs:{justify:"center",dense:""}},[t(l["d"],{staticClass:"blue-grey--text text--darken-2"},[e._v("Pay Advance")]),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(s["a"],{attrs:{items:e.teachers,filter:e.teacherFilter,"item-text":"firstName","item-value":"teacherID",label:"Teacher",rules:e.teacherRules},model:{value:e.teacher,callback:function(t){e.teacher=t},expression:"teacher"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(b["a"],{attrs:{rules:e.amountRules,clearable:"",label:"Amount",prefix:"RS."},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(I["a"],{attrs:{rules:e.descriptionRules,rows:"2",label:"Description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[[t("div",[t(v["a"],{ref:"menud",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(b["a"],e._g(e._b({attrs:{label:"Date",readonly:"",rules:e.dateRules},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",s,!1),a))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[t(u["a"],{attrs:{"active-picker":e.dateActivePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{"update:activePicker":function(t){e.dateActivePicker=t},"update:active-picker":function(t){e.dateActivePicker=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)]],2)],1),t(l["a"],{staticClass:"px-6"},[t(n["a"],{attrs:{depressed:"",color:"primary",block:"",disabled:!e.valid||!e.description||!e.amount||!e.teacher||!e.date},on:{click:function(t){e.dialog=!0}}},[e._v("Pay")])],1)],1)],1)],1),t(c["a"],[t(r["a"],{attrs:{flat:""}},[t(l["d"],{staticClass:"heading-1 blue-grey lighten-4 blue-grey--text text--darken-2"},[e._v("Teacher Advance "),t(x["a"]),t(v["a"],{ref:"menud",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(b["a"],e._g(e._b({attrs:{label:"Date",readonly:"",hint:"*Select Month to search for a previous month's Details","persistent-hint":"","single-line":""},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}},"v-text-field",s,!1),a))]}}]),model:{value:e.monthMenu,callback:function(t){e.monthMenu=t},expression:"monthMenu"}},[t(u["a"],{attrs:{type:"month"},on:{input:function(t){e.monthMenu=!1,e.getTeacherAdvance()}},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1)],1),t(l["d"],[t(x["a"]),t(b["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.Search,callback:function(t){e.Search=t},expression:"Search"}})],1),t(d["a"],{attrs:{headers:e.headers,items:e.teachersAdvance,search:e.Search,"items-per-page":5},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(l["a"],[t("app-EditPayTeacherAdvance",{attrs:{advance:a},on:{success:function(t){return e.updateSuccessAlert(t)},failed:function(t){return e.updateFaileAlert(t)}}}),t(x["a"]),t("app-DeletePayTeacherAdvance",{staticClass:"ml-5",attrs:{advance:a},on:{success:function(t){return e.deleteAlert(t)},failed:function(t){return e.FaileAlert(t)}}})],1)]}}],null,!0)})],1)],1)],1)],t(h["a"],{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(r["a"],[t(o["a"],{staticClass:"text-center"},[t(l["d"],[t(f["a"],{attrs:{justify:"center"}},[t(p["a"],{attrs:{size:"100",color:"orange"}},[e._v("mdi-alert-circle-outline")])],1)],1),t("span",{staticClass:"text-h6 text-center"},[e._v(" Confirm Payment")]),t(l["c"],[e._v("Amount: Rs. "+e._s(e.amount)+" "),t("br"),e._v("Description: "+e._s(e.description)+" "),t("br"),e._v("Date: "+e._s(e.date)+" ")])],1),t(l["a"],[t(x["a"]),t(n["a"],{attrs:{color:"grey",outlined:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),t(n["a"],{attrs:{loading:e.loading,color:"orange",dark:"",depressed:""},on:{click:function(t){return e.payAdvance()}}},[e._v("Confirm")])],1)],1)],1)],2)],1)},A=[],S=a("ce7e"),k=function(){var e=this,t=e._self._c;return t(f["a"],[t(h["a"],{attrs:{scrollable:"","max-width":"500px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(n["a"],e._g(e._b({staticClass:"teal",attrs:{small:"",dark:"",depressed:""},on:{click:function(t){return e.getTeacherAdvance()}}},"v-btn",s,!1),a),[e._v("Edit"),t(p["a"],{attrs:{dark:"",right:""}},[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(m["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(r["a"],{attrs:{"max-width":"700",flat:""}},[t(l["d"],{staticClass:"heading-1 blue-grey lighten-4 blue-grey--text text--darken-2"},[e._v("Edit Pay Advance")]),t(S["a"]),t(l["c"],{staticStyle:{height:"800px"}},[t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(s["a"],{attrs:{items:e.teachers,filter:e.teacherFilter,"item-text":"firstName","item-value":"teacherID",label:"Teacher",rules:e.teacherRules},model:{value:e.teacher,callback:function(t){e.teacher=t},expression:"teacher"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(b["a"],{attrs:{rules:e.amountRules,clearable:"",label:"Amount",prefix:"RS."},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[t(I["a"],{attrs:{rules:e.descriptionRules,rows:"2",label:"Description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),t(c["a"],{attrs:{cols:"12",md:"12",sm:"12"}},[[t("div",[t(v["a"],{ref:"menud",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(b["a"],e._g(e._b({attrs:{label:"Date",readonly:"",rules:e.dateRules},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",s,!1),a))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[t(u["a"],{attrs:{"active-picker":e.dateActivePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{"update:activePicker":function(t){e.dateActivePicker=t},"update:active-picker":function(t){e.dateActivePicker=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)]],2)],1),t(S["a"]),t(l["a"],[t(x["a"]),t(n["a"],{attrs:{outlined:"",color:"grey"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),t(n["a"],{attrs:{loading:e.loading,disabled:!e.valid,color:"primary",depressed:""},on:{click:function(t){return e.updateAdvance()}}},[e._v("Save "),t(p["a"],{attrs:{left:""}},[e._v("mdi-content-save")])],1)],1)],1)],1)],1)],1)},D=[],_={props:["advance"],data(){return{dialog:!1,loading:!1,valid:!0,teacher:null,dateActivePicker:null,date:"",dateMenu:!1,amount:"0",description:"",teachers:[],descriptionRules:[e=>!!e||"Description is required",e=>e&&e.length>5||"Description must be greater than 5"],amountRules:[e=>!!e||"Amount is required",e=>/^\d+$/.test(e)||"Must be a number"],teacherRules:[e=>!!e||"Teacher is required"],dateRules:[e=>!!e||"Join Date is required"]}},created(){this.getTeachers()},methods:{getTeacherAdvance(){this.axios.get(this.$apiUrl+"/api/v1.0/AdvanceManagement/advances/"+this.advance.advanceID).then(e=>{this.description=e.data.advance.data[0].description,this.date=e.data.advance.data[0].date,this.teacher=e.data.advance.data[0].teacher;const t=e.data.advance.data[0].advanceAmount.split(".");this.amount=t[0]})},teacherFilter(e,t){const a=e.firstName.toLowerCase(),s=e.teacherID.toLowerCase(),i=t.toLowerCase();return a.indexOf(i)>-1||s.indexOf(i)>-1},updateAdvance(){if(this.$refs.form.validate()){const e=JSON.parse(localStorage.getItem("user"));this.loading=!0,this.axios.patch(this.$apiUrl+"/api/v1.0/AdvanceManagement/advances/"+this.advance.advanceID,{description:this.description,advanceAmount:this.amount+".00",date:this.date,employeeID:this.teacher.teacherID,handlerStaffID:e.employee.employeeID,branchID:e.employee.branch.branchID}).then(e=>{1==e.data.success?(this.successAlert(),this.dialog=!1,this.loading=!1):this.failedAlert()}).catch(e=>{this.failedAlert(),console.log(e.data),this.loading=!1})}},Reset(){this.$refs.form.reset()},getTeachers(){this.axios.get(this.$apiUrl+"/api/v1.0/TeacherManagement/teachers",{params:{status:"Active"}}).then(e=>(this.teachers=e.data.teacher.data,this.teachers.forEach(e=>{e.firstName=e.title+" "+e.firstName+" "+e.lastName})))},successAlert(){this.$emit("success",!0)},failedAlert(){this.$emit("failed",!0)}}},w=_,C=(a("594c"),a("2877")),T=Object(C["a"])(w,k,D,!1,null,"8b4ac4b8",null),P=T.exports,M=function(){var e=this,t=e._self._c;return t(f["a"],[t(h["a"],{attrs:{persistent:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(n["a"],e._g(e._b({staticClass:"error",attrs:{fab:"",dark:"","x-small":"",depressed:""}},"v-btn",s,!1),a),[t(p["a"],{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(r["a"],[t(o["a"],{staticClass:"text-center"},[t(l["d"],[t(f["a"],{attrs:{justify:"center"}},[t(p["a"],{attrs:{size:"100",color:"error"}},[e._v("mdi-help-circle-outline")])],1)],1),t("span",{staticClass:"text-h6 text-center"},[e._v("Do you really want to delete "),t("br"),e._v(" "),t("strong",[e._v('"Advance"')])])],1),t(l["a"],[t(x["a"]),t(n["a"],{attrs:{color:"grey",outlined:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),t(n["a"],{attrs:{loading:e.loading,color:"error",depressed:""},on:{click:function(t){return e.deleteAdvance()}}},[e._v("Delete "),t(p["a"],{attrs:{right:""}},[e._v("mdi-delete")])],1)],1)],1)],1)],1)},$=[],F={props:["advance"],data:()=>({dialog:!1,loading:!1,logedUser:JSON.parse(localStorage.getItem("user"))}),methods:{deleteAdvance(){this.loading=!0,this.axios.delete(this.$apiUrl+"/api/v1.0/AdvanceManagement/advances/"+this.advance.advanceID,{params:{handlerStaffID:this.logedUser.employee.employeeID}}).then(e=>{1==e.data.success?(this.successAlert(),this.dialog=!1,this.loading=!1):this.failedAlert()}).catch(e=>{this.failedAlert(),console.log(e.data),this.loading=!1})},successAlert(){this.$emit("success",!0)},failedAlert(){this.$emit("failed",!0)}}},R=F,N=Object(C["a"])(R,M,$,!1,null,null,null),O=N.exports,z={components:{"app-EditPayTeacherAdvance":P,"app-DeletePayTeacherAdvance":O},data(){return{dialog:!1,loading:!1,valid:!0,Search:"",teacher:null,dateActivePicker:null,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateMenu:!1,monthActivePicker:null,month:(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0"),monthMenu:!1,amount:"0",description:"",headers:[{text:"ID",align:"start",sortable:!1,value:"advanceID"},{text:"NAME",align:"start",sortable:!1,value:"teacher.teacherName"},{text:"DATE",sortable:!1,value:"date"},{text:"ADVANCE",sortable:!1,value:"advanceAmount"},{text:"DESCRIPTION",sortable:!1,value:"description"},{text:"STAFF",sortable:!1,value:"handledBy.staffName"},{text:"",sortable:!1,value:"actions"}],teachers:[],teachersAdvance:[],breadcrumbs:[{text:"Financial",disabled:!1,href:"/Financial"},{text:"Teacher Advance",disabled:!0,href:"/Financial/TeacherAdvance"}],index:0,descriptionRules:[e=>!!e||"Description is required",e=>e&&e.length>5||"Description must be greater than 5"],amountRules:[e=>!!e||"Amount is required",e=>/^\d+$/.test(e)||"Must be a number"],teacherRules:[e=>!!e||"Teacher is required"],dateRules:[e=>!!e||"Join Date is required"],successAlert:!1,unsuccessAlert:!1,unsuccessAlertUpdate:!1,successAlertUpdate:!1,unsuccessAlertPayment:!1,successAlertPayment:!1}},created(){this.getTeachers(),this.getTeacherAdvance()},methods:{getTeacherAdvance(){this.axios.get(this.$apiUrl+"/api/v1.0/AdvanceManagement/advances",{params:{employeeType:"teacher",date:this.month}}).then(e=>this.teachersAdvance=e.data.advance.data)},teacherFilter(e,t){const a=e.firstName.toLowerCase(),s=e.teacherID.toLowerCase(),i=t.toLowerCase();return a.indexOf(i)>-1||s.indexOf(i)>-1},payAdvance(){if(this.$refs.form.validate()){const e=JSON.parse(localStorage.getItem("user"));this.loading=!0,0!=this.amount?this.axios.post(this.$apiUrl+"/api/v1.0/AdvanceManagement/advances",{description:this.description,advanceAmount:this.amount+".00",date:this.date,employeeID:this.teacher,handlerStaffID:e.employee.employeeID,branchID:e.employee.branch.branchID}).then(e=>{1==e.data.success?(this.Reset(),this.dialog=!1,this.successAlertPayment=!0,this.getTeacherAdvance(),this.loading=!1):(this.unsuccessAlertPayment=!0,this.loading=!1)}).catch(e=>{this.unsuccessAlertPayment=!0,console.log(e.data),this.loading=!1}):(this.unsuccessAlertPayment=!0,this.loading=!1)}},Reset(){this.$refs.form.reset()},getTeachers(){this.axios.get(this.$apiUrl+"/api/v1.0/TeacherManagement/teachers",{params:{status:"Active"}}).then(e=>(this.teachers=e.data.teacher.data,this.teachers.forEach(e=>{e.firstName=e.title+" "+e.firstName+" "+e.lastName})))},deleteAlert(e){this.successAlert=e,this.getTeacherAdvance()},faileAlert(e){this.unsuccessAlert=e},updateSuccessAlert(e){this.successAlertUpdate=e,this.getTeacherAdvance()},updateFaileAlert(e){this.unsuccessAlertUpdate=e}}},U=z,V=(a("0d76"),Object(C["a"])(U,y,A,!1,null,"1e427b7a",null));t["default"]=V.exports},"594c":function(e,t,a){"use strict";a("a40e")},a40e:function(e,t,a){},a844:function(e,t,a){"use strict";a("1681");var s=a("8654"),i=a("58df");const n=Object(i["a"])(s["a"]);t["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick(()=>{var t;e?this.calculateInputHeight():null===(t=this.$refs.input)||void 0===t||t.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(a,t)+"px"},genInput(){const e=s["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){s["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},c6a6:function(e,t,a){"use strict";a("2bfd");var s=a("b974"),i=a("8654"),n=a("d9f7"),r=a("80d2");const l={...s["b"],offsetY:!0,offsetOverflow:!0,transition:!1};t["a"]=s["a"].extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,a)=>a.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:s["a"].options.props.menuProps.type,default:()=>l},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(r["r"])(e,this.itemText),a=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),a)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=s["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...l,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=s["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){if(e!==t){if(!this.autoSelectFirst){const a=t[this.$refs.menu.listIndex];a?this.setMenuIndex(e.findIndex(e=>e===a)):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&e.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))})}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===r["x"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===r["x"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==r["x"].backspace&&e!==r["x"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const a=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==a)return void(this.selectedIndex=a);const s=this.selectedItems.length,i=e!==s-1?e:e-1,n=this.selectedItems[i];n?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=i},clearableCallback(){this.internalSearch=null,s["a"].options.methods.clearableCallback.call(this)},genInput(){const e=i["a"].options.methods.genInput.call(this);return e.data=Object(n["a"])(e.data,{attrs:{"aria-activedescendant":Object(r["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(r["p"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=s["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?s["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,a=t.value;t.value&&this.activateMenu(),this.multiple||""!==a||this.deleteCurrentItem(),this.internalSearch=a,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;!e.ctrlKey&&[r["x"].home,r["x"].end].includes(t)||s["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){s["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){s["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){s["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,a;if(-1===this.selectedIndex)return;const s=this.selectedItems[this.selectedIndex],i=this.getText(s);null===(t=e.clipboardData)||void 0===t||t.setData("text/plain",i),null===(a=e.clipboardData)||void 0===a||a.setData("text/vnd.vuetify.autocomplete.item+plain",i),e.preventDefault()}}})},ec5c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-48f7205a.cbac7f69.js.map