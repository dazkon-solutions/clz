(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc4dc66"],{"12c5":function(e,t,s){"use strict";s.r(t);var a=s("2bc5"),i=s("b0af"),r=s("99d9"),l=s("a523"),n=s("8fea"),o=s("132d"),c=s("2fa4"),d=s("8654"),u=function(){var e=this,t=e._self._c;return t("div",[t(a["a"],{attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[t(o["a"],[e._v("mdi-chevron-right")])]},proxy:!0}])}),t(l["a"],[[t(i["a"],{attrs:{flat:""}},[t(r["d"],{staticClass:"heading-1 blue-grey lighten-4 blue-grey--text text--darken-2"},[e._v("Free Cards "),t(c["a"]),t("app-CreateFreeCardStudent",{staticClass:"mr-2",on:{success:function(t){return e.successAlert(t)}}})],1),t(r["d"],[t(c["a"]),t(d["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),[t("div",[t(n["a"],{attrs:{headers:e.headers,items:e.students,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function({item:s}){return[t("app-FreeCardClasses",{attrs:{task:"Free Cards",studentDetails:s},on:{success:function(t){return e.successAlert(t)}}})]}}],null,!0)})],1)]],2)]],2)],1)},h=[],p=s("8336"),v=s("169a"),m=s("ce7e"),f=s("4bd4"),g=s("0fd9"),b=s("2db4"),C=s("b73d"),S=function(){var e=this,t=e._self._c;return t(g["a"],{attrs:{justify:"center"}},[t(v["a"],{attrs:{scrollable:"","max-width":"700px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(p["a"],e._g(e._b({staticClass:"orange",attrs:{small:"",dark:"",depressed:""},on:{click:function(t){return e.getStudentsEnrolledClasses()}}},"v-btn",a,!1),s),[e._v(e._s(e.task))])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(i["a"],{attrs:{"max-width":"700",flat:""}},[t(r["d"],{staticClass:"heading-1 blue-grey lighten-4 blue-grey--text text--darken-2"},[e._v("Free Cards")]),t(m["a"]),t(r["c"],[t(f["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",[t(r["c"],[e._v("Free cards of "),t("strong",[e._v(e._s(e.studentDetails.studentName))]),e._v(". ")]),t(r["d"],[t(c["a"]),t(d["a"],{attrs:{"persistent-hint":"",hint:"*Use Name OR ID to search for a class","append-icon":"mdi-magnify",label:"Search Class","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(n["a"],{attrs:{headers:e.headers,items:e.classes,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function({item:s}){return[t(C["a"],{attrs:{color:"red",inset:"",label:e.switchLabel(s.freeCard)},on:{change:function(t){return e.giveFreeCard(s.classID,s.freeCard)}},model:{value:s.freeCard,callback:function(t){e.$set(s,"freeCard",t)},expression:"item.freeCard"}})]}}],null,!0)})],1)])],1),t(m["a"]),t(r["a"],[t(c["a"]),t(p["a"],{attrs:{color:"primary",depressed:""},on:{click:function(t){e.successAlert(),e.dialog=!1}}},[e._v("OK")])],1),t(b["a"],{attrs:{timeout:3e3,absolute:"",bottom:"",left:"",color:"green"},model:{value:e.addSuccessAlert,callback:function(t){e.addSuccessAlert=t},expression:"addSuccessAlert"}},[e._v("Free Card has been added to the student")]),t(b["a"],{attrs:{timeout:3e3,absolute:"",bottom:"",left:"",color:"green"},model:{value:e.removeSuccessAlert,callback:function(t){e.removeSuccessAlert=t},expression:"removeSuccessAlert"}},[e._v("Free Card has been removed from the student")]),t(b["a"],{attrs:{timeout:3e3,absolute:"",bottom:"",left:"",color:"red"},model:{value:e.failAlert,callback:function(t){e.failAlert=t},expression:"failAlert"}},[e._v("Faild Operation")])],1)],1)],1)},x=[],y={props:["studentDetails","task"],data(){return{dialog:!1,valid:!0,buttonName:"",addSuccessAlert:!1,removeSuccessAlert:!1,failAlert:!1,search:"",headers:[{text:"CLASS",align:"start",sortable:!1,value:"className"},{text:"FREE CARD",sortable:!1,value:"actions",align:"start"}],classes:[]}},methods:{switchLabel(e){return e?"Free Card":"No"},giveFreeCard(e,t){1==t?this.axios.patch(this.$apiUrl+"/api/v1.0/EnrollmentManagement/students/"+this.studentDetails.studentID+"/classes/"+e+"/freeClass",{paymentStatus:"-1"}).then(e=>{1==e.data.success?this.addSuccessAlert=!0:(this.failAlert=!0,this.getStudentsEnrolledClasses())}).catch(e=>{this.failAlert=!0,this.getStudentsEnrolledClasses(),console.log(e.data)}):this.axios.patch(this.$apiUrl+"/api/v1.0/EnrollmentManagement/students/"+this.studentDetails.studentID+"/classes/"+e+"/freeClass",{paymentStatus:"1"}).then(e=>{1==e.data.success?this.removeSuccessAlert=!0:(this.failAlert=!0,this.getStudentsEnrolledClasses())}).catch(e=>{this.failAlert=!0,this.getStudentsEnrolledClasses(),console.log(e.data)})},getStudentsEnrolledClasses(){this.axios.get(this.$apiUrl+"/api/v1.0/EnrollmentManagement/students/"+this.studentDetails.studentID).then(e=>(this.classes=e.data.enrollment.data[0].classes,this.classes.forEach(e=>{"1"==e.paymentStatus?e.freeCard=!1:"-1"==e.paymentStatus&&(e.freeCard=!0)})))},successAlert(){this.$emit("success",!0)}}},A=y,k=(s("3e90"),s("2877")),_=Object(k["a"])(A,S,x,!1,null,"513d0e5e",null),w=_.exports,F=function(){var e=this,t=e._self._c;return t(g["a"],{attrs:{justify:"end"}},[t(v["a"],{attrs:{scrollable:"","max-width":"700px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(p["a"],e._g(e._b({staticClass:"blue-grey",attrs:{dark:"",depressed:""},on:{click:function(t){return e.getStudentsNotInFreeCard()}}},"v-btn",a,!1),s),[e._v("new Free Card"),t(o["a"],{attrs:{dark:"",right:""}},[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(i["a"],{attrs:{"max-width":"700",flat:""}},[t(r["d"],{staticClass:"heading-1 blue-grey lighten-4 blue-grey--text text--darken-2"},[e._v("Create Free Card Student")]),t(m["a"]),t(r["c"],[t(f["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",[t(r["c"],[e._v("These students have "),t("strong",[e._v("not enrolled")]),e._v(" for any "),t("strong",[e._v("free-card")]),e._v(" yet. Here you can see their enrolled classes and change those as free-card classes.")]),t(r["d"],[t(c["a"]),t(d["a"],{attrs:{"persistent-hint":"",hint:"*Use Name OR ID to search for a student","append-icon":"mdi-magnify",label:"Search Class","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(n["a"],{attrs:{headers:e.headers,items:e.students,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function({item:s}){return[t("app-FreeCardClasses",{attrs:{task:"Enrolled Classes",studentDetails:s},on:{success:function(t){return e.successAlert(t)}}})]}}],null,!0)})],1)])],1),t(m["a"]),t(r["a"],[t(c["a"]),t(p["a"],{attrs:{color:"primary",depressed:""},on:{click:function(t){e.dialog=!1}}},[e._v("OK")])],1),t(b["a"],{attrs:{timeout:2e3,absolute:"",bottom:"",left:"",color:"green"},model:{value:e.addSuccessAlert,callback:function(t){e.addSuccessAlert=t},expression:"addSuccessAlert"}},[e._v("Free Card has been added to the student")]),t(b["a"],{attrs:{timeout:2e3,absolute:"",bottom:"",left:"",color:"green"},model:{value:e.removeSuccessAlert,callback:function(t){e.removeSuccessAlert=t},expression:"removeSuccessAlert"}},[e._v("Free Card has been removed from the student")])],1)],1)],1)},D=[],E={components:{"app-FreeCardClasses":w},props:["studentDetails"],data(){return{dialog:!1,valid:!0,errormsg:null,addSuccessAlert:!1,removeSuccessAlert:!1,search:"",headers:[{text:"STUDENT",align:"start",sortable:!1,value:"studentName"},{text:"ID",align:"start",sortable:!1,value:"studentID"},{text:"GRADE",align:"start",sortable:!0,value:"grade"},{text:"",sortable:!1,value:"actions",align:"start"}],students:[]}},methods:{getStudentsNotInFreeCard(){this.axios.get(this.$apiUrl+"/api/v1.0/EnrollmentManagement/students/notInFreeCard").then(e=>this.students=e.data.data)},successAlert(e){this.getStudentsNotInFreeCard(),this.$emit("success",!0),console.log(e)}}},I=E,V=Object(k["a"])(I,F,D,!1,null,null,null),$=V.exports,N={components:{"app-FreeCardClasses":w,"app-CreateFreeCardStudent":$},data(){return{menu:!1,search:"",headers:[{text:"STUDENT",align:"start",sortable:!1,value:"studentName"},{text:"ID",sortable:!1,value:"studentID"},{text:"",sortable:!1,value:"actions"}],students:[],breadcrumbs:[{text:"Classes",disabled:!1,href:"/Classes"},{text:"Free Cards",disabled:!0,href:"/Classes/FreeCards"}]}},created(){this.getStudentsInFreeCard()},methods:{getStudentsInFreeCard(){this.axios.get(this.$apiUrl+"/api/v1.0/EnrollmentManagement/students/inFreeCard").then(e=>this.students=e.data.data)},successAlert(e){this.getStudentsInFreeCard(),console.log(e)}}},O=N,j=Object(k["a"])(O,u,h,!1,null,null,null);t["default"]=j.exports},"3e90":function(e,t,s){"use strict";s("6da5")},5311:function(e,t,s){"use strict";s("14d9");var a=s("5607"),i=s("2b0e");t["a"]=i["a"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"6da5":function(e,t,s){},"9d01":function(e,t,s){},b73d:function(e,t,s){"use strict";s("ec29"),s("9d01");var a=s("fe09"),i=s("c37a"),r=s("c3f0"),l=s("0789"),n=s("490a"),o=s("80d2");t["a"]=a["a"].extend({name:"v-switch",directives:{Touch:r["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(l["c"],{},[!1===this.loading?null:Object(o["s"])(this,"progress")||this.$createElement(n["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===o["x"].left&&this.isActive||e.keyCode===o["x"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(e,t,s){},fe09:function(e,t,s){"use strict";s.d(t,"b",(function(){return n}));s("14d9");var a=s("c37a"),i=s("5311"),r=s("8547"),l=s("58df");function n(e){e.preventDefault()}t["a"]=Object(l["a"])(a["a"],i["a"],r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=a["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:n},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:n},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const s=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===s&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}})}}]);
//# sourceMappingURL=chunk-6fc4dc66.a991b115.js.map